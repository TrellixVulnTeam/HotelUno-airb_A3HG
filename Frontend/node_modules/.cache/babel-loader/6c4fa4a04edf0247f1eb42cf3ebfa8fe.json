{"ast":null,"code":"var _jsxFileName = \"/Users/decagon/Desktop/NODE007/REACT/Hoteluno-airb/Frontend/src/Components/Listings/Listings.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState, useEffect } from 'react';\nimport AuthContext from '../../store/AuthContext';\nimport ListItem from \"../RoomsList/ListItem\";\nimport styles from \"../RoomsList/RoomsList.module.css\";\nimport { Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Listings = props => {\n  _s();\n\n  const [listings, setListings] = useState([]);\n  const ctx = useContext(AuthContext);\n  useEffect(() => {\n    const list = ctx.roomsData.filter(room => room.hostid === ctx.userData.email);\n    setListings(list);\n  }, [ctx.roomsData, ctx.userData.email]);\n  const history = useHistory();\n\n  const deleteRoom = async id => {\n    console.log(id);\n\n    try {\n      const res = await axios.delete(`https://fierce-plains-40745.herokuapp.com/api/delete/${id}`, {\n        data: id\n      });\n      return res.data.status;\n    } catch (e) {\n      if (e) return e;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.Wrapper,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        \"fontWeight\": 700,\n        \"padding\": \"20px 0\"\n      },\n      children: \"Your Listings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), listings.length === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          \"textAlign\": \"center\"\n        },\n        children: \"A list of apartments you have hosted will appear here. List is currently empty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => history.push(\"/host/listroom\"),\n        children: \"Start Hosting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true) : listings.map(room => room && /*#__PURE__*/_jsxDEV(ListItem, {\n      deleteHandler: deleteRoom,\n      delete: true,\n      favClick: ctx.handleFavorites,\n      click: ctx.handleRoomClick,\n      favorites: ctx.favorites,\n      room: room\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 48\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Listings, \"RnGWw616amlWxqnTgYO033La7zw=\", false, function () {\n  return [useHistory];\n});\n\n_c = Listings;\nexport default Listings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Listings\");","map":{"version":3,"sources":["/Users/decagon/Desktop/NODE007/REACT/Hoteluno-airb/Frontend/src/Components/Listings/Listings.tsx"],"names":["useContext","useState","useEffect","AuthContext","ListItem","styles","Button","axios","useHistory","Listings","props","listings","setListings","ctx","list","roomsData","filter","room","hostid","userData","email","history","deleteRoom","id","console","log","res","delete","data","status","e","Wrapper","length","push","map","handleFavorites","handleRoomClick","favorites"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,QAArB,EAA+BC,SAA/B,QAAgD,OAAhD;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AAEA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;;;AAKA,MAAMC,QAAQ,GAAIC,KAAD,IAAkB;AAAA;;AAC/B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAMY,GAAG,GAAGb,UAAU,CAACG,WAAD,CAAtB;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMY,IAAI,GAAGD,GAAG,CAACE,SAAJ,CAAcC,MAAd,CAAqBC,IAAI,IAAIA,IAAI,CAACC,MAAL,KAAgBL,GAAG,CAACM,QAAJ,CAAaC,KAA1D,CAAb;AACAR,IAAAA,WAAW,CAACE,IAAD,CAAX;AACH,GAHQ,EAGN,CAACD,GAAG,CAACE,SAAL,EAAgBF,GAAG,CAACM,QAAJ,CAAaC,KAA7B,CAHM,CAAT;AAIA,QAAMC,OAAO,GAAGb,UAAU,EAA1B;;AACA,QAAMc,UAAU,GAAG,MAAOC,EAAP,IAAc;AAC7BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;;AACA,QAAI;AACA,YAAMG,GAAG,GAAG,MAAMnB,KAAK,CAACoB,MAAN,CAAc,wDAAuDJ,EAAG,EAAxE,EAA2E;AAAEK,QAAAA,IAAI,EAAEL;AAAR,OAA3E,CAAlB;AACA,aAAOG,GAAG,CAACE,IAAJ,CAASC,MAAhB;AACH,KAHD,CAGE,OAAOC,CAAP,EAAU;AACR,UAAIA,CAAJ,EAAO,OAAOA,CAAP;AACV;AACJ,GARD;;AASA,sBACI;AAAK,IAAA,SAAS,EAAEzB,MAAM,CAAC0B,OAAvB;AAAA,4BACI;AAAI,MAAA,KAAK,EAAE;AAAE,sBAAc,GAAhB;AAAqB,mBAAW;AAAhC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEKpB,QAAQ,CAACqB,MAAT,KAAoB,CAApB,gBAAwB;AAAA,8BACrB;AAAI,QAAA,KAAK,EAAE;AAAE,uBAAa;AAAf,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADqB,eAErB,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,MAAMX,OAAO,CAACY,IAAR,CAAa,gBAAb,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFqB;AAAA,oBAAxB,GAGKtB,QAAQ,CAACuB,GAAT,CAAajB,IAAI,IAAIA,IAAI,iBAAI,QAAC,QAAD;AAAU,MAAA,aAAa,EAAEK,UAAzB;AAAqC,MAAA,MAAM,EAAE,IAA7C;AAAmD,MAAA,QAAQ,EAAET,GAAG,CAACsB,eAAjE;AAAkF,MAAA,KAAK,EAAEtB,GAAG,CAACuB,eAA7F;AAA8G,MAAA,SAAS,EAAEvB,GAAG,CAACwB,SAA7H;AAAwI,MAAA,IAAI,EAAEpB;AAA9I;AAAA;AAAA;AAAA;AAAA,YAA7B,CALV;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AASH,CA3BD;;GAAMR,Q;UAQcD,U;;;KARdC,Q;AA6BN,eAAeA,QAAf","sourcesContent":["import { useContext, useState, useEffect } from 'react'\nimport AuthContext from '../../store/AuthContext';\nimport { RoomData } from '../../store/AuthContext'\nimport ListItem from \"../RoomsList/ListItem\";\nimport styles from \"../RoomsList/RoomsList.module.css\";\nimport { Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\"\ninterface Props {\n\n}\n\nconst Listings = (props: Props) => {\n    const [listings, setListings] = useState([] as RoomData[])\n    const ctx = useContext(AuthContext);\n\n    useEffect(() => {\n        const list = ctx.roomsData.filter(room => room.hostid === ctx.userData.email);\n        setListings(list)\n    }, [ctx.roomsData, ctx.userData.email]);\n    const history = useHistory();\n    const deleteRoom = async (id) => {\n        console.log(id)\n        try {\n            const res = await axios.delete(`https://fierce-plains-40745.herokuapp.com/api/delete/${id}`, { data: id });\n            return res.data.status\n        } catch (e) {\n            if (e) return e\n        }\n    }\n    return (\n        <div className={styles.Wrapper}>\n            <h3 style={{ \"fontWeight\": 700, \"padding\": \"20px 0\" }}>Your Listings</h3>\n            {listings.length === 0 ? <>\n                <h4 style={{ \"textAlign\": \"center\" }}>A list of apartments you have hosted will appear here. List is currently empty</h4>\n                <Button onClick={() => history.push(\"/host/listroom\")}>Start Hosting</Button>\n            </> : listings.map(room => room && <ListItem deleteHandler={deleteRoom} delete={true} favClick={ctx.handleFavorites} click={ctx.handleRoomClick} favorites={ctx.favorites} room={room} />)}\n        </div>\n    )\n}\n\nexport default Listings\n"]},"metadata":{},"sourceType":"module"}